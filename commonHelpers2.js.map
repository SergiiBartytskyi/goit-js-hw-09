{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('.feedback-form input'),\n  message: document.querySelector('.feedback-form textarea'),\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\nlet formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {\n  email: '',\n  message: '',\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(onFormDataInput, 500));\n\npopulateFormData();\n\nfunction onFormSubmit(e) {\n  if (formData.email && formData.message) {\n    e.preventDefault();\n    e.currentTarget.reset();\n    console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n    localStorage.removeItem(STORAGE_KEY);\n    formData = {\n      email: '',\n      message: '',\n    };\n  } else {\n    alert('Fill please all fields');\n  }\n}\n\nfunction onFormDataInput(e) {\n  formData[e.target.name] = e.target.value.trim();\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction populateFormData() {\n  const data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (data) {\n    refs.email.value = data.email || '';\n    refs.message.value = data.message || '';\n  }\n}\n"],"names":["refs","STORAGE_KEY","formData","onFormSubmit","throttle","onFormDataInput","populateFormData","data"],"mappings":"oFAEA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,sBAAsB,EACpD,QAAS,SAAS,cAAc,yBAAyB,CAC3D,EAEMC,EAAc,sBACpB,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,GAAK,CAC9D,MAAO,GACP,QAAS,EACX,EAEAD,EAAK,KAAK,iBAAiB,SAAUG,CAAY,EACjDH,EAAK,KAAK,iBAAiB,QAASI,EAASC,EAAiB,GAAG,CAAC,EAElEC,IAEA,SAASH,EAAa,EAAG,CACnBD,EAAS,OAASA,EAAS,SAC7B,EAAE,eAAc,EAChB,EAAE,cAAc,QAChB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,CAAC,EACzD,aAAa,WAAWA,CAAW,EACnCC,EAAW,CACT,MAAO,GACP,QAAS,EACf,GAEI,MAAM,wBAAwB,CAElC,CAEA,SAASG,EAAgB,EAAG,CAC1BH,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OACzC,aAAa,QAAQD,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC5D,CAEA,SAASI,GAAmB,CAC1B,MAAMC,EAAO,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,EAErDM,IACFP,EAAK,MAAM,MAAQO,EAAK,OAAS,GACjCP,EAAK,QAAQ,MAAQO,EAAK,SAAW,GAEzC"}